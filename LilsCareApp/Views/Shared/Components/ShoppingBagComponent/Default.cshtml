@model IEnumerable<ProductsInBagDTO>
@{
}
<!-- Offcanvas Shopping Bag Start -->
<div class="offcanvas offcanvas-end @TempData["ShowBag"]" id="shopping-bag">
    <div class="offcanvas-header">
        <h2 class="offcanvas-title">Моята количка</h2>
        <button type="button"
                class="btn-close"
                style="color:rgb(var(--app-btn-bg)"
                data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
            <hr />
            <!-- Product in Shopping Bag Start -->
            @foreach (var product in Model)
            {
            <div class="d-flex justify-content-between id=" @product.Id"">
                    <div class="w-50">
                        <img src="@product.ImageUrl"
                             height="180px"
                             style="width: 100%; object-fit: cover"
                             alt="" />
                    </div>
                    <div class="w-50 fs-6 p-3">
                        <p>@product.Name</p>
                        <p>Цена: @product.Price лв.</p>
                    <div class="d-flex justify-content-start align-items-center my-2">
                        <form asp-controller="Products" asp-action="AddToCart" asp-route-productId="@product.Id"
                              method="post">
                            <input type="hidden" name="quantity" value="-1" />
                            <button type="submit"
                                    class="btn btn-inverce my-2" style="border: none">
                                <i class="fa fa-minus"></i>
                            </button>
                        </form>
                        <span class="mx-2"> @product.Quantity</span>
                        <form asp-controller="Products" asp-action="AddToCart" asp-route-productId="@product.Id"
                              method="post">
                            <input type="hidden" name="quantity" value="1" />
                            <button type="submit"
                                    class="btn btn-inverce my-2" style="border: none">
                                <i class="fa fa-plus"></i>
                            </button>
                        </form>
                    </div>
                    <a asp-controller="Products" asp-action="DeleteProductFromCart" asp-route-id="@product.Id" class="btn my-2">
                        <i class="fa fa-trash-can me-2"></i> Изтрий</a>
                </div>
                </div>
                <hr />
            }
            <!-- Product in Shopping Bag End -->

            <div class="fs-4 py-3">
                <span>Междинна сума :</span><span class="float-end">@ViewBag.Total лв.</span>
            </div>
        <a asp-controller="Cart" asp-action="Index" class="btn w-100">Преглед на количката</a>
    </div>
</div>
<!-- Offcanvas Shopping Bag End -->
